<html>
<head>
    <title>Test page.</title>
</head>
<body>
hello there!

<!--<script src="https://code.jquery.com/jquery-3.5.1.js"></script>-->
<script src="/jquery-2.0.3.js"></script>
<script>
    function click_handler() {
        $.ajax({
            url: "{{ apiUrl }}/enforce_origin",
            data: {},
            async: true,
            xhrFields: {
                withCredentials: true
            }
        }).done(function (dataSet, textStatus, xhr) {

            console.debug(dataSet)
            console.debug(textStatus)
            console.debug(xhr)

            $("#status").text("Success! Check console logs for details.")

        }).fail(function (xhr) {
            console.debug(xhr)
            return null
        })
    }
</script>

<button onclick="click_handler()">
    Post back to server!
</button>
<div id="status"></div>
</body>
</html>
